<!doctype html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <link rel="stylesheet" href="../../../libs/pico-main/css/pico.css">
    <link
      rel="stylesheet"
      href="../../../libs/highlight/styles/tomorrow-night-bright.css"
    />
  <link rel="stylesheet" href="../../../styles/styleForPages.css">
  </head>
  <body>
    <div class="container">
      <h2>GitCourse Продвинутая работа</h2>
      <h4>git stash</h4>
      <hr>
      <p>В Git (и на GitHub) команда <code>git stash</code> используется для временного сохранения ("припрятывания") текущих незакоммиченных изменений в рабочем каталоге.
         Это позволяет вам временно "убрать" свои изменения, чтобы переключиться на другую ветку или поработать над чем-то ещё, 
         а потом вернуться и восстановить отложенные изменения.</p>
         <h6>Как работает <code>git stash</code>:</h6>
         <ul>
          <li>Все незакоммиченные изменения (как в проиндексированных файлах, так и в неотслеживаемых) сохраняются в специальном хранилище (стеке stash).</li>
          <li>Рабочая директория возвращается к состоянию последнего коммита (чистая копия).</li>
          <li>Позже эти изменения можно вернуть командой <code>git stash apply</code>  или <code>git stash pop</code>.</li>
         </ul>
         <h6>Пример использования:</h6>
         <ul>
          <li><code>git stash</code> - добавляем коммит в git stash</li>
          <li><code>git stash list</code> - смотрим список  stash </li>
          <li><code>git switch -c branch-name</code> - создаем новую ветку</li>
          <li><code>git stash apply</code> - добавляем изменения из stash в новую ветку - <code>git switch -c hotfix/T-15</code></li>
          <li><code>git stash</code> - Если нужно то можно изменения которые мы добавили в новую ветку снова поместить в <code>git stash</code></li>
         </ul>
         <p><code>git stash push -m "Название сохранения"</code> - для добавления названия сохранения</p>
         <p><code>git stash apply</code> - добавляет последний stash из списка чтобы добавить нужный нам нужно указать его номер после apply<code>git stash apply 0</code> - 0 - это номер stash</p>
         <h6>Удаление записей из git stash</h6>
         <p>1-й способ - использовать вместо <code>git stash apply 0</code> такую команду <code>git stash pop 0</code> эта команда делает добавляет изменения в ветку и удаляет запись из stash</p>
         <p><code>git stash clear</code> - очищает список git stash полностью</p>
         <h4>Reflog</h4>
         <hr>
         <p>Команда git reflog используется для просмотра истории всех перемещений указателя HEAD и других ссылок в вашем локальном репозитории.</p>
         <p>Когда вы делаете коммиты, слияния, переключения веток, сбрасываете коммиты или делаете другие операции, git reflog фиксирует все эти изменения позиции HEAD, даже если они больше не видны в истории через обычный git log.</p>
         <p>Это очень полезно, если вы, например, случайно удалили коммит или "потеряли" ветку — с помощью reflog всегда можно узнать, где раньше находился ваш HEAD, и восстановить утерянные коммиты по их hash.</p>
         <h6>восстановление утерянных коммитов и веток с помощью git reflog:</h6>
         <h6>восстановление коммита</h6>
         <ol>
          <li><code>git reflog</code> - Показывает список с хешами (например, a1b2c3d HEAD@{3}: ...) и описанием каждого действия с HEAD. Даже если коммиты "потерялись" (например, после сброса ветки), их можно найти в этом списке.</li>
          <li><code>git --hard ff767ba</code> - Восстанавливает утерянный коммит</li>
         </ol>
         <h6>восстановление ветки</h6>
         <ol>
          <li><code>git reflog</code> - находим коммит из удаленной ветки копируем его хеш</li>
          <li><code>git checkout хеш скопированного коммита</code> - перемещаемся в detach head и находимся на нужном коммите</li>
          <li><code>git switch branch-name</code> -  создаем ветку с названием которое удалили и в эту ветку добавится наш коммит</li>
         </ol>
         
    </div>
    <script src="../../../libs/highlight/highlight.pack.js"></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>
  </body>
</html>
